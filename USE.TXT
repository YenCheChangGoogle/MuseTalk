MuseTalk.git 
https://github.com/YenCheChangGoogle/MuseTalk

█ MuseTalk 影片檔案與音效檔案結合AI講話

安裝的步驟紀錄 MuseTalk

建立虛擬環境
conda create --name MuseTalk python=3.10.0
conda activate MuseTalk

pip install -r requirements.txt

pip install --no-cache-dir -U openmim 
若上面安裝有問題就補下列此指令
pip install "mmcv>=2.0.0,<2.2.0" "mmdet>=3.0.0,<3.3.0"
pip install mmpose==1.3.1

mim install mmengine 
mim install "mmcv>=2.0.1" 
mim install "mmdet>=3.1.0" 
mim install "mmpose>=1.1.0" 
或
mim install mmengine==0.10.4 
mim install "mmcv==2.0.1" 
mim install "mmdet==3.0.0" 
mim install "mmpose==1.3.2" 

範例 安裝requests時忽略其依賴項
pip install --no-deps requests
範例 讓requests更新到最新的
pip install --upgrade requests
範例 安裝requests到指定的版本2.32.3
pip install requests==2.32.3

█ FFmpeg

WIN11 安裝 FFmpeg
winget install ffmpeg
此方法預設會安裝到 例如: C:\Users\yench\AppData\Local\Microsoft\WinGet\Packages\Gyan.FFmpeg_Microsoft.Winget.Source_8wekyb3d8bbwe\ffmpeg-7.0.1-full_build

要檢查 winget 安裝的 FFmpeg 版本和位置
winget list ffmpeg

winget 即將安裝的 FFmpeg 版本
winget show ffmpeg

驗證libx264安裝
ffmpeg -encoders | findstr libx264

查看版本資訊
ffmpeg -version
ffplay -version
ffprobe -version

conda activate ComfyUI-MuseTalk
set FFMPEG_PATH=C:\YenCheChang\ffmpeg

https://github.com/BtbN/FFmpeg-Builds/releases

█ 下載模組

weights
https://huggingface.co/TMElyralab/MuseTalk

sd-vae-ft-mse
https://huggingface.co/stabilityai/sd-vae-ft-mse

whisper
https://openaipublic.azureedge.net/main/whisper/models/65147644a518d12f04e32d6f3b26facc3f8dd46e5390956a9424a650c0ce22b9/tiny.pt

dwpose
https://huggingface.co/yzd-v/DWPose/tree/main

face-parse-bisent
https://github.com/zllrunning/face-parsing.PyTorch

resnet18
https://download.pytorch.org/models/resnet18-5c106cde.pth


ComfyUI/models/diffusers/TMElyralab/MuseTalk/
├── musetalk
│   └── musetalk.json
│   └── pytorch_model.bin
├── dwpose
│   └── dw-ll_ucoco_384.pth
├── face-parse-bisent
│   ├── 79999_iter.pth
│   └── resnet18-5c106cde.pth
├── sd-vae-ft-mse
│   ├── config.json
│   └── diffusion_pytorch_model.bin
└── whisper
    └── tiny.pt

█ 
https://github.com/YenCheChangGoogle/MuseTalk?tab=readme-ov-file#use-of-bbox_shift-to-have-adjustable-results
https://github.com/chaojie/ComfyUI-MuseTalk
https://github.com/KwaiVGI/LivePortrait
https://github.com/YenCheChangGoogle/SadTalker?tab=readme-ov-file